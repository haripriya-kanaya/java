<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>

	<link rel="stylesheet" type="text/css" href="css/styles.css" />
	<link rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
		integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
		crossorigin="anonymous" />

	
	<link rel="stylesheet"
		href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
		integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
		crossorigin="anonymous" />
	<style>
	.navbar-light .navbar-nav .nav-link.active {
		color: white;
	}

	.nav-item {
		font-weight: bold;
		font-size: large;
	}

	.nav {
		background-color: black;
	}
	.error-message {
			color: red;
		}

	.error-message {
    display: block;
    color: red;
    font-size: 12px;
    margin-top: 5px;
}

	body {
  background-image: url("https://thumbs.dreamstime.com/b/abstract-art-background-light-blue-white-colors-watercolor-painting-canva-canvas-soft-sky-gradient-fragment-artwork-164230549.jpg");
  background-size: cover;
  background-position: center center;
  height: 100vh;
  width: 100%;
  background-size: 3000px 2000px;
}

h3 {
	color: red;
}
h3 {text-align: center;}

 #form\\:category option[disabled] {
        display: none;
    }
    
    #form\\:category::before {
        content: "Please select category";
        color: #999;
    }
    .hide-in-dropdown {
        display: none;
    }
    
	</style>
</h:head>

<title> Registration</title>


<h:body onload="onPage()">
	<br />
	<div class="container">
		<div class="row">
			<div class="col-sm-6 mx-auto">
				<h:form>
					<div class="form-group">

						<h3>Registration</h3>				
		   <div class="form-group">
    Name:
    <h:inputText id="name" value="#{Regstration.name}" required="true" class="form-control"
      requiredMessage="  Name is required."
      validatorMessage="The Name Should be Atleast 3 letters   and the firstletter should be capitalletter it does not allow numbers and specialsymbols. ">
<!--  <f:validateRegex pattern="^[A-Z][a-z]{2,14}$" />  -->
 <f:validateRegex pattern="^[A-Z][a-zA-Z]{2,14}(?: [A-Z][a-zA-Z]{2,14})*$" />

 
    </h:inputText>
    <p:watermark for="name" value=" Name*" />
    <h:message for="name" style="color:red;" />
  </div>
 <div class="form-group">
  Phone:
  <h:inputText id="phone" value="#{Regstration.phnum}" required="true" class="form-control"
               requiredMessage="Phone number is required."
               validatorMessage="Phone number should start with a digit between 6 to 9 and should contain  10 digits it does not accept characters and specialsymbols.">
    <f:validateRegex pattern="[6-9][0-9]{9}" />
  </h:inputText>
  <p:watermark for="phone" value="Phone *" />
  <h:message for="phone" style="color: red" />
</div>


Dob :
<div class="col">
    <p:calendar id="dob" required="true" mode="popup" readonlyInput="true"
        label="Please Enter Date Of Birth" size="40"
        requiredMessage="Please enter Date of Birth." maxdate="2005-12-31"
        value="#{Regstration.dob}" yearRange="1900:2005" navigator="true"
        pattern="MM-dd-yyy">
    </p:calendar>
    <p:watermark for="dob" value="DOB *" />
    <br />
    <h:message for="dob" style="color:red;" />
</div>	

<div class="form-group">
    <label for="category">Category:</label>
    <p:watermark for="securityAnswer" value="Security Answer *" />

    <h:selectOneMenu id="category" value="#{Regstration.category}" class="form-control" required="true" requiredMessage="Please select category.">
        <f:selectItem itemLabel="Please select category" noSelectionOption="true" styleClass="hide-in-dropdown" />
        <f:selectItem itemLabel="Staff" />
        <f:selectItem itemLabel="Admin" />
    </h:selectOneMenu>

    <h:message for="category" style="color: red" />
</div>



<div class="form-group">
    <label for="securityquestions">Security Question:</label>
  <h:selectOneMenu id="securityquestions" value="#{Regstration.securityquestions}" class="form-control" required="true" requiredMessage="Please select a security question." noSelectionOption="true">
    
    <f:selectItem itemValue="What was your childhood nickname?" itemLabel="What was your childhood nickname?" />
    <f:selectItem itemValue="What is the name of your first pet?" itemLabel="What is the name of your first pet?" />
    <f:selectItem itemValue="In which city were you born?" itemLabel="In which city were you born?" />
   
</h:selectOneMenu>
<h:message for="securityQuestions2" style="color: red" />   
</div>
<div class="form-group">
    <label for="securityAnswer">Security Answer:</label>
    <h:inputText id="securityAnswer" value="#{Regstration.securityanswer1}" class="form-control" required="true" requiredMessage="Please enter a security answer"  validatorMessage="It accepts only above three letters the first letter should be capital letter ">
        <f:validateRegex pattern="^[A-Z][a-z]{2,14}$" />
    </h:inputText>
    
    <h:message for="securityAnswer" style="color:red;" />
    <p:watermark for="securityAnswer" value="Security Answer *" />
</div>

<div class="form-group">
    <label for="securityQuestions2">Security Question:</label>
  <h:selectOneMenu id="securityQuestions2" value="#{Regstration.securityquestion2}" class="form-control" required="true" requiredMessage="Please select a security question." noSelectionOption="true">
    
    <f:selectItem itemValue="What was your childhood nickname?" itemLabel="What was your childhood nickname?" />
    <f:selectItem itemValue="What is the name of your first pet?" itemLabel="What is the name of your first pet?" />
    <f:selectItem itemValue="In which city were you born?" itemLabel="In which city were you born?" />
   
</h:selectOneMenu>
<h:message for="securityQuestions2" style="color: red" />


   
</div>



<div class="form-group">
    <label for="securityAnswer">Security Answer:</label>
    <h:inputText id="securityanswer2" value="#{Regstration.securityanswer2}" class="form-control" required="true" requiredMessage="Please enter a security answer"  validatorMessage="It accepts only above three letters the first letter should br capital letter ">
        <f:validateRegex pattern="^[A-Z][a-z]{2,14}$" />
    </h:inputText>
    <h:message for="securityAnswer" style="color:red;" />
    <p:watermark for="securityAnswer" value="Security Answer *" />
</div>



  <div class="form-group">
    <label for="username">User Name:</label>
    <h:inputText id="username" value="#{Regstration.username}" required="true" class="form-control"
                 requiredMessage="Enter The Username."
                 validatorMessage="The User Name must start with an uppercase letter follwed by lowercase letters and include numbers, special symbols.">
    <f:validateRegex pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[@!#$%^'&amp;' *()\-_=+[\\]{}|;:',.'&lt;','&gt;'/?])[\w@!#$%^&amp;*()\-_=+[\\]{}|;:',.'&lt;','&gt;'/?]{6,15}$" />

 </h:inputText>
    <p:watermark for="username" value="User Name *" />
    <h:message for="username" style="color: red" />
</div>

  
  

<div class="form-group">
    <label for="password">Password:</label>
					 
   <div class="form-group">
    <div class="input-icon-container">
        <i class="fa fa-lock watermark-icon" aria-hidden="true"></i>
        <h:inputSecret id="password" value="#{Regstration.password}" required="true" 
            label="Password" autocomplete="off" class="form-control"
            requiredMessage="Password is required."
            validatorMessage="The Password should be 8 letters  Includeing Numbers and Special Characters">
            <f:validateRegex pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&amp;+=]).{8,}$" />
             <f:ajax event="blur" render="matchMsg" />
        </h:inputSecret>
          <p:watermark for="password" value=" Password  *" />
    </div>
    <h:message id="passwordMsg" for="password" style="color: red;" />
</div>


Confirm Password :
<div class="form-group">
    <div class="new iconBox">
        <i class="fa fa-user-secret" aria-hidden="true"></i>
    </div>
   <h:inputSecret id="confirmPassword" value="#{Regstration.confirmpassword}" required="true"
    label="Confirm Password" autocomplete="off" class="form-control"
    requiredMessage="Confirm Password is required."
    validatorMessage="Passwords doesnot match">
      <f:validator validatorId="passwordMatchValidator" />
   <f:attribute name="password" value="#{Regstration.password}" />
</h:inputSecret>

    <p:watermark for="confirmPassword" value="Type Password Again *" />
    <h:message id="matchMsg" for="confirmPassword" style="color: red;" />
</div>
<br />

 <div class="form-group">
  <label for="email">Email:</label>
  <h:inputText id="email" value="#{Regstration.email}" validator="#{Hospitaldao.validateEmail}" class="form-control"
               required="true"  requiredMessage="Email is requried ."   validatorMessage="The Eamil must be in properformat it inlcude letters  numbers and specialsymbols"/>

  <p:watermark for="email" value="Email *" />
  <h:message for="email" style="color: red" />
</div>
 <h:messages globalOnly="true" style="color: red" />
					<div style="text-align:center;">
      <h:commandButton class="btn btn-dark" value="Save"
        action="#{Hospitaldao.addUser(Regstration)}" />  
        <a href="Login.xhtml" class="btn btn-dark" style="margin-left: 10px;">Back</a>
       
      <h5>
        <h:message for="cregfrm" style="color:blue;" />
      </h5>
  
  </div>
 </div>
 </div>
</h:form>
</div>
</div>
</div>
 
<script>
    function updateSecurityQuestions2Options() {
        var selectBox1 = document.getElementById("securityQuestions");
        var selectBox2 = document.getElementById("securityQuestions2");
        var selectedValue = selectBox1.value;

        // Enable all options in securityQuestions2
        for (var i = 0; i &lt; selectBox2.options.length; i++) {
            selectBox2.options[i].disabled = false;
        }

        // Find and disable the selected question in securityQuestions2
        for (var i = 0; i &lt; selectBox2.options.length; i++) {
            if (selectBox2.options[i].value === selectedValue) {
                selectBox2.options[i].disabled = true;
                break;
            }
        }
    }
</script>

<script>
    function showOptions() {
        var categoryDropdown = document.getElementById("category");
        categoryDropdown.removeAttribute("onchange"); // Remove the onchange attribute to prevent triggering this function again
        
        categoryDropdown.click(); // Simulate a click to open the dropdown
    }
</script>

</h:body>
 
</html>
					


